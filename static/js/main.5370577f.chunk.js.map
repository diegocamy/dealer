{"version":3,"sources":["Card.js","Table.js","App.js","index.js"],"names":["Card","props","className","src","carta","alt","style","transform","rotacion","Table","state","deckId","totalCartas","cartas","obtenerCarta","bind","fetch","then","res","json","data","setState","deck_id","remaining","this","prevSt","imagen","cards","images","png","palo","suit","valor","value","Math","floor","random","onClick","map","key","Component","App","ReactDOM","render","document","getElementById"],"mappings":"oPAEe,SAASA,EAAKC,GAC3B,OAAO,yBAAKC,UAAU,yBAAwB,yBAAKC,IAAKF,EAAMG,MAAOC,IAAKJ,EAAMI,IAAKC,MAAO,CAAEC,UAAU,UAAD,OAAYN,EAAMO,SAAlB,Y,UCCpFC,E,YACnB,WAAYR,GAAQ,IAAD,8BACjB,4CAAMA,KACDS,MAAQ,CACXC,OAAQ,GACRC,YAAa,EACbC,OAAQ,IAEV,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBAPH,E,iFAUE,IAAD,OAElBC,MAAM,iEACHC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAI,EAAKC,SAAS,CAAEV,OAAQS,EAAKE,QAASV,YAAaQ,EAAKG,iB,qCAG1D,IAAD,OAETC,KAAKd,MAAME,YAAc,EAC3BI,MAAM,uCAAD,OAAwCQ,KAAKd,MAAMC,OAAnD,mBACFM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAI,EAAKC,UAAS,SAAAI,GAC1B,MAAO,CACLb,YAAaa,EAAOb,YAAc,EAClCC,OAAO,GAAD,mBAAMY,EAAOZ,QAAb,CAAqB,CACzBa,OAAQN,EAAKO,MAAM,GAAGC,OAAOC,IAC7BC,KAAMV,EAAKO,MAAM,GAAGI,KACpBC,MAAOZ,EAAKO,MAAM,GAAGM,MACrBzB,SAAU0B,KAAKC,MAAsB,GAAhBD,KAAKE,UAAiB,aAKnDpB,MAAM,uCAAD,OAAwCQ,KAAKd,MAAMC,OAAnD,cACFM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAI,EAAKC,SAAS,CAAET,YAAaQ,EAAKG,UAAWV,OAAQ,U,+BAKvE,OACE,yBAAKX,UAAU,QACb,uCACA,4BAAQmC,QAASb,KAAKV,cACQ,IAA3BU,KAAKd,MAAME,YAAoB,iBAAmB,kBAErD,yBAAKV,UAAU,UACZsB,KAAKd,MAAMG,OAAOyB,KAAI,SAAAlC,GAAK,OAAI,kBAACJ,EAAD,CAC9BI,MAAOA,EAAMsB,OACba,IAAG,UAAKnC,EAAM4B,MAAX,eAAuB5B,EAAM0B,MAChCzB,IAAG,UAAKD,EAAM4B,MAAX,eAAuB5B,EAAM0B,MAChCtB,SAAUJ,EAAMI,oB,GArDOgC,aCDdC,E,iLAEjB,OACE,6BACE,kBAAC,EAAD,W,GAJyBD,aCCjCE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.5370577f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function Card(props) {\r\n  return <div className=\"roll-in-left card-div\"><img src={props.carta} alt={props.alt} style={{ transform: `rotate(${props.rotacion}deg)` }} /></div>\r\n\r\n}\r\n","import React, { Component } from 'react'\r\nimport Card from './Card';\r\nimport './Table.css'\r\n\r\nexport default class Table extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      deckId: '',\r\n      totalCartas: 0,\r\n      cartas: []\r\n    }\r\n    this.obtenerCarta = this.obtenerCarta.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    //obtener deck de cartas\r\n    fetch('https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1')\r\n      .then(res => res.json())\r\n      .then(data => this.setState({ deckId: data.deck_id, totalCartas: data.remaining }))\r\n  }\r\n\r\n  obtenerCarta() {\r\n    //si hay cartas en el deck obtenerla de la api y agregarla al state\r\n    if (this.state.totalCartas > 0) {\r\n      fetch(`https://deckofcardsapi.com/api/deck/${this.state.deckId}/draw/?count=1`)\r\n        .then(res => res.json())\r\n        .then(data => this.setState(prevSt => {\r\n          return {\r\n            totalCartas: prevSt.totalCartas - 1,\r\n            cartas: [...prevSt.cartas, {\r\n              imagen: data.cards[0].images.png,\r\n              palo: data.cards[0].suit,\r\n              valor: data.cards[0].value,\r\n              rotacion: Math.floor(Math.random() * 80) - 40 //agrega rotacion aleatoria\r\n            }]\r\n          }\r\n        }))\r\n    } else {//si no quedan mas cartas para mostrar, barajar de nuevo el deck\r\n      fetch(`https://deckofcardsapi.com/api/deck/${this.state.deckId}/shuffle/`)\r\n        .then(res => res.json())\r\n        .then(data => this.setState({ totalCartas: data.remaining, cartas: [] }))\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"mesa\">\r\n        <h1>DEALER!</h1>\r\n        <button onClick={this.obtenerCarta}>\r\n          {this.state.totalCartas === 0 ? 'Barajar Cartas' : 'Dame una carta'}\r\n        </button>\r\n        <div className=\"cartas\">\r\n          {this.state.cartas.map(carta => <Card\r\n            carta={carta.imagen}\r\n            key={`${carta.valor} of ${carta.palo}`}\r\n            alt={`${carta.valor} of ${carta.palo}`}\r\n            rotacion={carta.rotacion}\r\n          />)}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\nimport Table from './Table'\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div>\n        <Table />\n      </div>\n    )\n  }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}